---
layout: default
title: Policy Library
permalink: /policies/
pagination: 
  enabled: true
---

<h1>Policy Library</h1>

<p>Browse our collection of climate resilience policies and implementation examples.</p>

{% if paginator.documents and paginator.documents.size > 0 %}
  {% for policy in paginator.documents %}
  <article class="policy-list-item">
    <h3><a href="{{ policy.url | relative_url }}">{{ policy.title }}</a></h3>
    <p class="policy-summary">{{ policy.summary }}</p>
    <div class="policy-meta">
      <span class="policy-type">{{ policy.type | replace: "-", " " | capitalize }}</span>
      {% if policy.jurisdiction %}<span class="policy-jurisdiction">{{ policy.jurisdiction }}</span>{% endif %}
      {% if policy.date_enacted %}<span class="policy-date">Enacted: {{ policy.date_enacted | date: "%B %Y" }}</span>{% endif %}
    </div>
  </article>
  {% endfor %}
{% elsif paginator %}
  <!-- Debug: Paginator exists but no documents -->
  <div style="background: #fff3cd; padding: 15px; margin: 20px 0; border: 1px solid #ffc107; border-radius: 4px;">
    <p><strong>Debug Info:</strong></p>
    <ul>
      <li>Paginator exists: Yes</li>
      <li>Documents count: {{ paginator.documents.size }}</li>
      <li>Total pages: {{ paginator.total_pages }}</li>
      <li>Current page: {{ paginator.page }}</li>
      <li>Collection: {{ paginator.collection }}</li>
    </ul>
  </div>
  {% assign policies = site.policies | sort: 'title' %}
  {% for policy in policies %}
  <article class="policy-list-item">
    <h3><a href="{{ policy.url | relative_url }}">{{ policy.title }}</a></h3>
    <p class="policy-summary">{{ policy.summary }}</p>
    <div class="policy-meta">
      <span class="policy-type">{{ policy.type | replace: "-", " " | capitalize }}</span>
      {% if policy.jurisdiction %}<span class="policy-jurisdiction">{{ policy.jurisdiction }}</span>{% endif %}
      {% if policy.date_enacted %}<span class="policy-date">Enacted: {{ policy.date_enacted | date: "%B %Y" }}</span>{% endif %}
    </div>
  </article>
  {% endfor %}
{% else %}
  <!-- Fallback: No paginator at all -->
  {% assign policies = site.policies | sort: 'title' %}
  {% for policy in policies %}
  <article class="policy-list-item">
    <h3><a href="{{ policy.url | relative_url }}">{{ policy.title }}</a></h3>
    <p class="policy-summary">{{ policy.summary }}</p>
    <div class="policy-meta">
      <span class="policy-type">{{ policy.type | replace: "-", " " | capitalize }}</span>
      {% if policy.jurisdiction %}<span class="policy-jurisdiction">{{ policy.jurisdiction }}</span>{% endif %}
      {% if policy.date_enacted %}<span class="policy-date">Enacted: {{ policy.date_enacted | date: "%B %Y" }}</span>{% endif %}
    </div>
  </article>
  {% endfor %}
{% endif %}

<!-- Pagination navigation -->
{% if paginator.total_pages > 1 %}
<nav class="pagination" role="navigation" aria-label="Pagination">
  <div class="pagination-links">
    {% if paginator.previous_page %}
      <a href="{{ paginator.previous_page_path | relative_url }}" class="pagination-previous" aria-label="Previous page">← Previous</a>
    {% else %}
      <span class="pagination-previous disabled">← Previous</span>
    {% endif %}
    
    <span class="pagination-info">Page {{ paginator.page }} of {{ paginator.total_pages }}</span>
    
    {% if paginator.next_page %}
      <a href="{{ paginator.next_page_path | relative_url }}" class="pagination-next" aria-label="Next page">Next →</a>
    {% else %}
      <span class="pagination-next disabled">Next →</span>
    {% endif %}
  </div>
</nav>
{% endif %}
